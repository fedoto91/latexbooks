\documentclass{article}
\usepackage[pdftex,active,tightpage]{preview}
\usepackage{xparse}% http://ctan.org/pkg/xparse
\usepackage{etoolbox}% http://ctan.org/pkg/etoolbox
\usepackage{ifthen}
\PreviewEnvironment{tikzpicture}
\errorcontextlines 10000
\setlength\PreviewBorder{2mm}
\usepackage{tikz}
\usetikzlibrary{calc,shapes.multipart,chains,arrows,positioning}

\tikzset{
    squarecross/.style={
        draw, rectangle,minimum size=18pt, fill=orange!80,
        inner sep=0pt, text=black,
        path picture = {
            \draw[black]
            (path picture bounding box.north west) -- 
            (path picture bounding box.south east)
            (path picture bounding box.south west) -- 
            (path picture bounding box.north east);
        }
    }
}
\DeclareListParser{\ListParsecomma}{,}
\DeclareListParser{\ListParsesemi}{;}
\DeclareListParser{\ListParsecolon}{:}
\newcounter{cnt}
\newcounter{xcnt}
\def\addby#1#2{%
\pgfmathsetmacro{\result}{#1}% 
\pgfmathtruncatemacro{\result}{\result+#2}% 
\global\let\result\result
}%
\def\subby#1#2{%
\pgfmathsetmacro{\sresult}{#1}% 
\pgfmathtruncatemacro{\sresult}{\sresult-#2}% 
\global\let\sresult\sresult
}%

\def\xgetarray#1{%
\pgfmathsetmacro{\xlenarray}{0}% 
 %add each element to list as well as define length of list
\foreach \i in {#1}{%
\pgfmathtruncatemacro{\xlenarray}{\xlenarray+1}% 
\global\let\xlenarray\xlenarray
}%
\pgfmathsetmacro{\xlenminus}{0}%
\pgfmathtruncatemacro{\xlenminus}{\xlenarray-1}%  
\global\let\xlenminus\xlenminus

\setcounter{xcnt}{0}
\newcommand\xsetval[2]{%
  \csdef{list##1}{##2}}
\newcommand\xaddval[1]{%
  \stepcounter{xcnt}%
  \csdef{list\thexcnt}{##1}}
\newcommand\xgetval[1]{%
  \csuse{list##1}}
  
  \renewcommand{\do}[1]{\xaddval{##1}}
  \expandafter\expandafter\expandafter\ListParsecolon\expandafter\expandafter\expandafter{#1}
}
\def\getarray#1{%
\pgfmathsetmacro{\lenarray}{0}% 
 %add each element to list as well as define length of list
\foreach \i in {#1}{%
\pgfmathtruncatemacro{\lenarray}{\lenarray+1}% 
\global\let\lenarray\lenarray
}%
\pgfmathsetmacro{\lenminus}{0}%
\pgfmathtruncatemacro{\lenminus}{\lenarray-1}%  
\global\let\lenminus\lenminus

\setcounter{cnt}{0}
\newcommand\setval[2]{%
  \csdef{list##1}{##2}}
\newcommand\addval[1]{%
  \stepcounter{cnt}%
  \csdef{list\thecnt}{##1}}
\newcommand\getval[1]{%
  \csuse{list##1}}
  
  \renewcommand{\do}[1]{\addval{##1}}
  \expandafter\expandafter\expandafter\ListParsecomma\expandafter\expandafter\expandafter{#1}
}

\begin{document}
\begin{preview}
\begin{tikzpicture}[
        list/.style={
            very thick, rectangle split, 
            rectangle split parts=3, draw, 
            rectangle split horizontal, minimum size=18pt,
            inner sep=5pt, text=black,
            rectangle split part fill={blue!20, red!20, blue!20}
        }, 
        ->, start chain, very thick
      ]

  \node[list,on chain] (A) {\nodepart{second} 12};
  \node[list,on chain] (B) {\nodepart{second} 99};
  \node[list,on chain] (C) {\nodepart{second} 37};

  \node[squarecross]   (D) [right=of C] {};
  \node[squarecross]   (E) [left= of A] {};

  \path[*->] let \p1 = (A.three), \p2 = (A.center) in (\x1,\y2) edge [bend left] ($(B.one)+(0,0.2)$);
  \path[*->] let \p1 = (B.three), \p2 = (B.center) in (\x1,\y2) edge [bend left] ($(C.one)+(0,0.2)$);
  \draw[*->] let \p1 = (C.three), \p2 = (C.center) in (\x1,\y2) -- (D);

  \draw[*->] ($(A.one)+(0.2,0.1)$) -- (E);
  \path[*->] ($(B.one)+(0.1,0.1)$) edge [bend left] ($(A.three)+(0,-0.05)$);
  \path[*->] ($(C.one)+(0.1,0.1)$) edge [bend left] ($(B.three)+(0,-0.05)$);
\end{tikzpicture}
\end{preview}
\newcommand\dlinklist[1]{
\begin{preview}
  	\begin{tikzpicture}[link/.style={
            very thick, rectangle split, 
            rectangle split parts=3, draw, 
            rectangle split horizontal, minimum size=18pt,
            inner sep=5pt, text=black,
            rectangle split part fill={blue!20, red!20, blue!20}
        }, 
        ->, start chain, very thick
      ]
    \getarray{#1}
    \node[link, on chain,] (-1) {/ \nodepart{second}Head}; 
    \node[link, on chain,] (0) {/ \nodepart{second}Head}; 
   
	
	\foreach \x in {1,...,\lenarray}{	 
    \node[link,on chain] (\x) {\nodepart{second}\getval{\x} };
    }
    \addby{\lenarray}{1}
    \node[link, on chain,] (\result) {\nodepart{second}Tail \nodepart{three}/}; 
    \path[*->] ($(\result.one)+(0.1,0.1)$) edge [bend left] ($(\lenarray.three)+(0,-0.05)$);
    
    \foreach \v in {0,...,\lenarray}{
    ifthenelse{\v = 0}
    {\addby{\v}{1}
    \path[*->] let \p1 = (\v.three), \p2 = (\v.center) in (\x1,\y2) edge [bend left] ($(\result.one)+(0,0.2)$);
    }
     {\addby{\v}{1}
     
     \path[*->] let \p1 = (\v.three), \p2 = (\v.center) in (\x1,\y2) edge [bend left] ($(\result.one)+ (0,0.2)$);
     \subby{\v}{1}
    \path[*->] ($(\v.one)+(0.1,0.1)$) edge [bend left] ($(\sresult.three)+(0,-0.05)$);
    }
    }
    \end{tikzpicture}
    \end{preview}
}
    \dlinklist{3,4,5}
\end{document}